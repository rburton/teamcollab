<li class="flex gap-x-4 py-0 cursor-pointer rounded-xs p-0 hover:bg-gray-100"
    th:fragment="assistant_row" th:id="'assistant_' + ${assistant.id}">
    <div class="bg-white p-2 rounded-md shadow-sm w-full max-w-sm border-zinc-200 border-1">
        <div class="flex items-center space-x-4">
            <img class="w-16 h-16 rounded-full border-2 border-gray-300"
                 src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                 alt="User Avatar">
            <div class="flex-1">
                <h3 class="text-lg font-bold text-gray-800" th:text="${assistant.name}">John Doe</h3>
                <p class="text-sm text-gray-500" th:text="${assistant.expertise}">Software Engineer</p>
            </div>
            <div class="relative" data-controller="assistant-menu">
                <button data-action="click->assistant-menu#toggle" 
                        class="px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-gray-300 text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                    </svg>
                </button>
                <div data-assistant-menu-target="menu" class="hidden absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-lg z-10">
                    <button th:data-assistant-id="${assistant.id}"
                            th:data-conversation-id="${conversationId}"
                            th:data-muted="${assistant.muted}"
                            class="mute-toggle block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100"
                            th:text="${assistant.muted} ? 'Unmute' : 'Mute'">
                        Mute
                    </button>
                    <button th:data-assistant-id="${assistant.id}"
                            th:data-conversation-id="${conversationId}"
                            th:data-tone="${assistant.tone}"
                            data-action="click->tone#openModal"
                            class="tone-button block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">
                        Tone
                    </button>
                </div>
            </div>
        </div>
        <th:block th:replace="~{conversations/fragements/assistant_status :: assistant_status(status='Ready')}"/>
    </div>

</li>
